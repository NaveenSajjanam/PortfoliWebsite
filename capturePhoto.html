<!DOCTYPE html>
<html>
<head>

<style>
	#video{
		border:2px solid orange;
	}
	.video-front-image{
		position: fixed;
		width: 16px;
		height: auto;
		margin-left: 100px;
		margin-top: 140px;
	}
</style>
</head>
<body>

<h1>My First Heading</h1>
<p>My first paragraph.</p>


<button id="start-camera">Start Camera</button>
<div>
	<img src="images/51D3B1DQGABA88_1.png" class="video-front-image" id="videoFrontImage"/>
	<video id="video" width="320" height="240" autoplay></video>
</div>

<button id="click-photo">Click Photo</button>
<canvas id="canvas" width="320" height="240"></canvas>
<script>
let camera_button = document.querySelector("#start-camera");
let video = document.querySelector("#video");
let videoFrontImage = document.querySelector("#videoFrontImage");
let click_button = document.querySelector("#click-photo");
let canvas = document.querySelector("#canvas");

camera_button.addEventListener('click', async function() {
   	let stream = await navigator.mediaDevices.getUserMedia({ video: true, audio: false });
	video.srcObject = stream;
});

click_button.addEventListener('click', function() {
   	canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);
	canvas.getContext('2d').drawImage(videoFrontImage, 100, 140, videoFrontImage.width, videoFrontImage.height);
   	let image_data_url = canvas.toDataURL('image/jpeg');

   	// data url of the image
   	console.log(image_data_url);
});
</script>
</body>
</html>

